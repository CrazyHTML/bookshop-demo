webpackJsonp([1],{0:function(t,e){},"0ovJ":function(t,e){},"1mo1":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookDetails"},[a("div",{staticClass:"bookImg"},[a("img",{attrs:{src:t.bookDetails.img,alt:"cover"}})]),t._v(" "),a("div",{staticClass:"bookName",domProps:{textContent:t._s(t.bookDetails.title)}}),t._v(" "),a("div",{staticClass:"subTitle",domProps:{textContent:t._s(t.bookDetails.sub1)}}),t._v(" "),a("div",{staticClass:"catalog"},[a("span",{staticClass:"catalogTitle"},[t._v("图书分类：")]),a("div",{staticClass:"catalogContent"},t._l(t.bookDetails.catalog.split(" "),function(e,i){return a("span",{key:i,domProps:{textContent:t._s(e)}})}))]),t._v(" "),a("div",{staticClass:"buyLink"},[a("span",{staticClass:"buyLinkTitle"},[t._v("购买链接：")]),t._v(" "),a("div",{staticClass:"buyLinkContent"},t._l(t.bookDetails.online.split(" "),function(e,i){return a("a",{key:i,attrs:{href:e.slice(e.indexOf(":")+1),target:"_blank"}},[t._v(t._s(e.split(":")[0]))])}))]),t._v(" "),a("div",{staticClass:"introduction"},[a("p",[t._v("图书简介：")]),t._v(t._s(t.bookDetails.sub2))]),t._v(" "),t._m(0)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottom"},[a("p",[t._v("----到底了哦----")])])}],n={render:i,staticRenderFns:o};e.a=n},"2SVh":function(t,e){},"3TWb":function(t,e,a){"use strict";e.a={data:function(){return{}}}},"6xpQ":function(t,e,a){"use strict";function i(t){a("2SVh")}var o=a("tgK5"),n=a("wl8n"),s=a("VU/8"),c=i,r=s(o.a,n.a,c,"data-v-555065f6",null);e.a=r.exports},"7pzu":function(t,e){},"9sPg":function(t,e,a){"use strict";var i=a("7+uW"),o=a("Au9i");a.n(o);i.default.use(o.InfiniteScroll),i.default.component(o.Spinner.name,o.Spinner),e.a={created:function(){if(!this.$store.state.bookList){this.$store.dispatch("getDatas",{url:"http://apis.juhe.cn/goodbook/catalog",options:{},method:"jsonp",callBack:function(t,e){t.commit("getBookList",e)}});for(var t=0;t<17;t++){var e=242+t;this.$store.dispatch("getDetails",{id:e,method:"jsonp",index:t})}}},beforeMount:function(){var t=this;setTimeout(function(){t.dataLoaded=!0},3e3)},data:function(){return{active:"0",isShowMenu:!1,navTimer:function(){},pageScrollTop:0,navScrollLeft:0,loading:!1,loadingTimer:function(){},dataLoaded:!1}},deactivated:function(){this.pageScrollTop=document.documentElement.scrollTop||document.body.scrollTop,this.navScrollLeft=document.querySelector(".nav-wrap").scrollLeft,this.loading=!0},activated:function(){this.dataLoaded&&(window.scrollTo(0,this.pageScrollTop),document.querySelector(".nav-wrap").scrollLeft=this.navScrollLeft,this.loading=!1)},methods:{activeChange:function(t){this.$store.commit("activeChange",t)},toTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},select:function(t){this.active=t.toString()},scrollAnimate:function(t){var e=this;t=+t;var a=document.querySelector(".nav-wrap"),i=document.querySelectorAll(".nav-wrap ul li"),o=a.scrollLeft,n=i[0].offsetWidth,s=i.length,c=t-2<0?0:n*(t+1>=s?s-5:t-2),r=o>c?-5:5;this.toTop(),clearInterval(this.navTimer),this.navTimer=setInterval(function(){Math.abs(a.scrollLeft-c)<=Math.abs(r)?(a.scrollLeft=c,clearInterval(e.navTimer)):a.scrollLeft+=r},10)},toggleMenu:function(){this.isShowMenu=!this.isShowMenu},loadMore:function(){var t=this;this.loading=!0;var e=this.activePage,a=+this.$store.state.bookDetails[this.active].pn;setTimeout(function(){t.$store.dispatch("updateDetails",{id:e,pn:a+10,method:"jsonp"}),setTimeout(function(){t.loading=!1},2500)},100)},forDetails:function(t,e){this.$store.commit("showBookDetails",{outterIndex:t,innerIndex:e}),this.$router.push({path:"/details"})}},computed:{bookList:function(){return this.$store.state.bookList},bookDetails:function(){return this.$store.state.bookDetails},activePage:function(){return this.$store.getters.activePageNum+242}},components:{TabContainer:o.TabContainer,TabContainerItem:o.TabContainerItem},watch:{active:function(){this.scrollAnimate(this.active),this.activeChange(this.active)}}}},CVJt:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.dataLoaded?t._e():a("div",[a("p",{staticClass:"loadingPage"},[a("span",{staticClass:"loadingText"},[t._v("加载中")]),t._v(" "),a("mt-spinner",{attrs:{type:"double-bounce",color:"rgb(38, 162, 255)",size:20}})],1)]),t._v(" "),t.dataLoaded?a("div",[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"bookListPage",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[a("div",{staticClass:"nav-wrap"},[a("ul",[t._l(t.bookList,function(e,i){return a("li",{key:i,class:{selected:t.active===i.toString()},attrs:{"data-id":e.id},domProps:{textContent:t._s(e.catalog)},on:{click:function(e){t.select(i)}}})}),t._v(" "),a("li")],2)]),t._v(" "),a("div",{staticClass:"navMenu"},[a("a",{on:{click:t.toggleMenu}},[a("span",{domProps:{textContent:t._s(t.isShowMenu?"折叠":"展开")}})])]),t._v(" "),a("transition",{attrs:{name:"menu",mode:"out-in"}},[t.isShowMenu?a("div",{staticClass:"bookMenu",on:{click:t.toggleMenu}},[a("div",{staticClass:"menuList"},[a("p",[t._v("为你精选以下标签")]),t._v(" "),a("div",{staticClass:"menuBox"},t._l(t.bookList,function(e,i){return a("a",{key:i,class:{selectedMenu:t.active===i.toString()},domProps:{textContent:t._s(e.catalog)},on:{click:function(e){t.select(i)}}})}))])]):t._e()]),t._v(" "),a("mt-tab-container",{staticClass:"bookslist-wrap",attrs:{swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.bookList,function(e,i){return a("mt-tab-container-item",{key:i,attrs:{id:i.toString()}},[t._l(t.bookDetails[i].data,function(e,o){return a("a",{key:o,staticClass:"content-main",on:{click:function(e){t.forDetails(i,o)}}},[a("div",{staticClass:"content-left"},[a("img",{attrs:{src:e.img,alt:"cover"}})]),t._v(" "),a("div",{staticClass:"content-right"},[a("h3",{domProps:{textContent:t._s(e.title)}}),t._v(" "),a("div",{staticClass:"content-rightBottom"},[a("span",{staticClass:"reading",domProps:{textContent:t._s(e.reading)}}),t._v(" "),a("span",{staticClass:"goToBuy"},[t._v("点击查看")])])])])}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loadingPage"},[a("span",{staticClass:"loadingText"},[t._v("加载中")]),t._v(" "),a("mt-spinner",{attrs:{type:"triple-bounce",color:"rgb(38, 162, 255)",size:15}})],1)],2)}))],1)]):t._e()])},o=[],n={render:i,staticRenderFns:o};e.a=n},IcnI:function(t,e,a){"use strict";var i=a("Dd8w"),o=a.n(i),n=a("Gu7T"),s=a.n(n),c=a("7+uW"),r=a("NYxO");c.default.use(r.a),e.a=new r.a.Store({state:{bookList:"",bookDetails:[],activePage:"0",showDetails:{outterIndex:0,innerIndex:0}},mutations:{activeChange:function(t,e){t.activePage=e},getBookList:function(t,e){t.bookList=e.body.result},getBookDetails:function(t,e){t.bookDetails[e.index]=e.data.body.result},updateBookDetails:function(t,e){var a;(a=t.bookDetails[this.getters.activePageNum].data).push.apply(a,s()(e.body.result.data)),t.bookDetails[this.getters.activePageNum].pn=e.body.result.pn},showBookDetails:function(t,e){t.showDetails.outterIndex=e.outterIndex,t.showDetails.innerIndex=e.innerIndex}},actions:{getDatas:function(t,e){c.default.http({url:e.url,params:o()({key:"d89ed133151c0011a104f4082fd2ad40"},e.options),method:e.method}).then(function(a){null===a.body.result?c.default.http({url:e.url,params:o()({key:"d89ed133151c0011a104f4082fd2ad40"},e.options),method:"get"}).then(function(a){e.callBack(t,a)},function(t){console.log(t)}):e.callBack(t,a)},function(a){console.log(a),c.default.http({url:e.url,params:o()({key:"d89ed133151c0011a104f4082fd2ad40"},e.options),method:"get"}).then(function(a){e.callBack(t,a)},function(t){console.log(t)})})},getDetails:function(t,e){t.dispatch("getDatas",{url:"http://apis.juhe.cn/goodbook/query",options:{catalog_id:e.id,pn:0,rn:10},method:"jsonp",callBack:function(a,i){t.commit("getBookDetails",{index:e.index,data:i})}})},updateDetails:function(t,e){t.dispatch("getDatas",{url:"http://apis.juhe.cn/goodbook/query",options:{catalog_id:e.id,pn:e.pn,rn:10},method:"jsonp",callBack:function(e,a){t.commit("updateBookDetails",a)}})}},getters:{selectedPart:function(t){switch(t.route.fullPath){case"/home":return"首页";case"/books":return"发现";case"/myCenter":return"个人中心";case"/details":return"图书详情"}},activePageNum:function(t){return+t.activePage}}})},M93x:function(t,e,a){"use strict";function i(t){a("PF6T")}var o=a("xJD8"),n=a("z9M4"),s=a("VU/8"),c=i,r=s(o.a,n.a,c,"data-v-55119dfc",null);e.a=r.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),o=a("Au9i"),n=a.n(o),s=a("d8/S"),c=(a.n(s),a("M93x")),r=a("YaEn"),l=a("QKTF"),d=(a.n(l),a("IcnI")),u=a("9JMe"),m=(a.n(u),a("ORbq"));a("qs/E");i.default.use(n.a),i.default.use(m.a),a.i(u.sync)(d.a,r.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:r.a,store:d.a,template:"<App/>",components:{App:c.a}})},PF6T:function(t,e){},Shfp:function(t,e,a){"use strict";e.a={data:function(){return{bookDetails:this.$store.state.bookDetails[this.$store.state.showDetails.outterIndex].data[this.$store.state.showDetails.innerIndex]}},activated:function(){window.scrollTo(0,0),this.bookDetails=this.$store.state.bookDetails[this.$store.state.showDetails.outterIndex].data[this.$store.state.showDetails.innerIndex]}}},VGhd:function(t,e,a){"use strict";function i(t){a("0ovJ")}var o=a("Shfp"),n=a("1mo1"),s=a("VU/8"),c=i,r=s(o.a,n.a,c,null,null);e.a=r.exports},VxRx:function(t,e){},YaEn:function(t,e,a){"use strict";var i=a("7+uW"),o=a("/ocq"),n=a("6xpQ"),s=a("p4rq"),c=a("hedB"),r=a("VGhd");i.default.use(o.a),e.a=new o.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"HomePage",component:n.a},{path:"/books",name:"books",component:s.a},{path:"/myCenter",name:"myCenter",component:c.a},{path:"/details",name:"details",component:r.a}]})},"d8/S":function(t,e){},hedB:function(t,e,a){"use strict";function i(t){a("7pzu")}var o=a("3TWb"),n=a("jNaN"),s=a("VU/8"),c=i,r=s(o.a,n.a,c,null,null);e.a=r.exports},jNaN:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"PersonalCenter"},[t._v("\n  这是个人中心\n")])},o=[],n={render:i,staticRenderFns:o};e.a=n},p4rq:function(t,e,a){"use strict";function i(t){a("VxRx")}var o=a("9sPg"),n=a("CVJt"),s=a("VU/8"),c=i,r=s(o.a,n.a,c,"data-v-2a5c5b85",null);e.a=r.exports},"qs/E":function(t,e,a){"use strict";var i=a("zNUS"),o=a.n(i),n={url:"http://apis.juhe.cn/goodbook/catalog?key=d89ed133151c0011a104f4082fd2ad40",data:{"result|17":[{"id|+1":242,catalog:"@ctitle(2, 4)"}]}},s={url:"http://apis.juhe.cn/goodbook/query?key=d89ed133151c0011a104f4082fd2ad40",data:{result:{"data|10":[{title:"@ctitle(5, 15)","catalog|2-6":"@region ","tags|5-10":"@cword(3-8) ",sub1:"@ctitle(5, 15)",sub2:"@cparagraph()",img:"http://apis.juhe.cn/goodbook/img/379cdafe13f92d62e99388182a6d08ec.jpg",reading:"@natural(1, 10000)人阅读",online:"京东商城:http://book.jd.com/10483893.html 当当网:http://product.dangdang.com/product.aspx?product_id=21020821 苏宁易购:http://www.suning.com/emall/prd_10052_22001_-7_1006212_.html 苏宁易购:http://www.suning.com/emall/prd_10052_22001_-7_1006212_.html",bytime:"2013年4月28日"}],pn:0,"rn|1-30":10}}};!function(t){o.a.mock(t.url,t.data)}(n),function(t){for(var e=t.url,a=242,i=0,n=e+"&catalog_id="+a+"&pn="+i+"&rn=10",s=0;s<17;s++){o.a.mock(n,t.data);for(var c=0;c<30;c++)o.a.mock(n,t.data),i+=10,n=e+"&catalog_id="+a+"&pn="+i+"&rn=10";a++,i=0,n=e+"&catalog_id="+a+"&pn="+i+"&rn=10"}}(s)},tgK5:function(t,e,a){"use strict";var i=a("Au9i");a.n(i);a("7+uW").default.component(i.Spinner.name,i.Spinner),e.a={created:function(){if(!this.$store.state.bookList){this.$store.dispatch("getDatas",{url:"http://apis.juhe.cn/goodbook/catalog",options:{},method:"jsonp",callBack:function(t,e){t.commit("getBookList",e)}});for(var t=0;t<17;t++){var e=242+t;this.$store.dispatch("getDetails",{id:e,method:"jsonp",index:t})}}},beforeMount:function(){var t=this;setTimeout(function(){t.dataLoaded=!0},3e3)},activated:function(){window.scrollTo(0,0)},data:function(){return{bannerImages:[{link:"https://pro.m.jd.com/mall/active/Zen6RsFGjG8kCYRXsXcAxbFKXfu/index.html",img:"static/1.jpg"},{link:"https://pro.m.jd.com/mall/active/3GxG1uWbootpZdHcWE2Wv7qMH2ac/index.html",img:"static/2.jpg"},{link:"https://sale.jd.com/act/S2udRrNCGVnptb.html?cpdad=1DLSUE",img:"static/3.jpg"}],dataLoaded:!1,randomNum:0,specificNum:15}},methods:{forDetails:function(t,e){this.$store.commit("showBookDetails",{outterIndex:t,innerIndex:e}),this.$router.push({path:"/details"})}},components:{Swipe:i.Swipe,SwipeItem:i.SwipeItem},computed:{specificBookDetails:function(){return this.$store.state.bookDetails[this.specificNum]},randomList:function(){return this.randomNum=Math.floor(13*Math.random()),this.$store.state.bookDetails[this.randomNum]}}}},wl8n:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.dataLoaded?t._e():a("div",[a("p",{staticClass:"loadingPage"},[a("span",{staticClass:"loadingText"},[t._v("加载中")]),t._v(" "),a("mt-spinner",{attrs:{type:"double-bounce",color:"rgb(38, 162, 255)",size:20}})],1)]),t._v(" "),t.dataLoaded?a("div",{staticClass:"HomePage"},[a("mt-swipe",{staticClass:"slideshow-wrap",attrs:{auto:4e3}},t._l(t.bannerImages,function(t,e){return a("mt-swipe-item",{key:e},[a("a",{attrs:{href:t.link}},[a("div",{staticClass:"banner",style:{background:"url("+t.img+") center no-repeat"}})])])})),t._v(" "),a("div",{staticClass:"recommended"},[a("div",{staticClass:"recommendedTitle"},[t._v("强烈推荐")]),t._v(" "),a("div",{staticClass:"recommendedContent"},[a("div",{staticClass:"recLeft",on:{click:function(e){t.forDetails(t.randomNum,1)}}},[a("img",{attrs:{src:t.randomList.data[1].img,alt:"cover"}})]),t._v(" "),a("div",{staticClass:"recRight"},[a("div",{on:{click:function(e){t.forDetails(t.randomNum,4)}}},[a("img",{attrs:{src:t.randomList.data[4].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.randomNum,3)}}},[a("img",{attrs:{src:t.randomList.data[3].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.randomNum,5)}}},[a("img",{attrs:{src:t.randomList.data[5].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.randomNum,6)}}},[a("img",{attrs:{src:t.randomList.data[6].img,alt:"cover"}})])])])]),t._v(" "),a("div",{staticClass:"recommended"},[a("div",{staticClass:"recommendedTitle"},[t._v("热销图书")]),t._v(" "),a("div",{staticClass:"recommendedContent"},[a("div",{staticClass:"recLeft",on:{click:function(e){t.forDetails(t.randomNum,9)}}},[a("img",{attrs:{src:t.randomList.data[9].img,alt:"cover"}})]),t._v(" "),a("div",{staticClass:"recRight"},[a("div",{on:{click:function(e){t.forDetails(t.randomNum,2)}}},[a("img",{attrs:{src:t.randomList.data[2].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.randomNum,7)}}},[a("img",{attrs:{src:t.randomList.data[7].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.randomNum,8)}}},[a("img",{attrs:{src:t.randomList.data[8].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.randomNum,0)}}},[a("img",{attrs:{src:t.randomList.data[0].img,alt:"cover"}})])])])]),t._v(" "),a("div",{staticClass:"recommended"},[a("div",{staticClass:"recommendedTitle"},[t._v("经典好书")]),t._v(" "),a("div",{staticClass:"recommendedContent"},[a("div",{staticClass:"recLeft",on:{click:function(e){t.forDetails(t.specificNum,1)}}},[a("img",{attrs:{src:t.specificBookDetails.data[1].img,alt:"cover"}})]),t._v(" "),a("div",{staticClass:"recRight"},[a("div",{on:{click:function(e){t.forDetails(t.specificNum,8)}}},[a("img",{attrs:{src:t.randomList.data[8].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.specificNum,3)}}},[a("img",{attrs:{src:t.randomList.data[3].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.specificNum,5)}}},[a("img",{attrs:{src:t.randomList.data[5].img,alt:"cover"}})]),t._v(" "),a("div",{on:{click:function(e){t.forDetails(t.specificNum,6)}}},[a("img",{attrs:{src:t.randomList.data[6].img,alt:"cover"}})])])])]),t._v(" "),t._m(0)],1):t._e()])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottom"},[a("p",[t._v("----到底了哦----")])])}],n={render:i,staticRenderFns:o};e.a=n},xJD8:function(t,e,a){"use strict";var i=a("Au9i");a.n(i);e.a={name:"app",created:function(){this.selected=this.$store.state.route.fullPath},data:function(){return{selected:"/home"}},methods:{goBack:function(){this.$router.go(-1)}},computed:{selectedPart:function(){return this.$store.getters.selectedPart}},components:{MyHeader:i.Header,Tabbar:i.Tabbar,TabItem:i.TabItem},watch:{selected:function(){this.$router.push({path:this.selected})}}}},z9M4:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("mt-header",{staticClass:"appHeader",attrs:{fixed:"",title:t.selectedPart}},["图书详情"===t.selectedPart?a("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goBack},slot:"left"},[t._v("返回")]):t._e()],1),t._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("keep-alive",[a("router-view")],1)],1),t._v(" "),"图书详情"!==t.selectedPart?a("mt-tabbar",{staticClass:"nav-tabBar",attrs:{fixed:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("mt-tab-item",{staticClass:"nav-tabItem",attrs:{id:"/home"}},[t._v("\n    首页\n  ")]),t._v(" "),a("mt-tab-item",{staticClass:"nav-tabItem",attrs:{id:"/books"}},[t._v("\n    发现\n  ")]),t._v(" "),a("mt-tab-item",{staticClass:"nav-tabItem",attrs:{id:"/myCenter"}},[t._v("\n    我的\n  ")])],1):t._e()],1)},o=[],n={render:i,staticRenderFns:o};e.a=n}},["NHnr"]);
//# sourceMappingURL=app.6bf9423167c50dd80fcd.js.map